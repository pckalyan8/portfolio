// Enhanced glassmorphism effects using tokens

@mixin glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  box-shadow: 
    var(--shadow-lg),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  position: relative;
  transition: all var(--transition-normal);
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--glass-shine);
    border-radius: inherit;
    pointer-events: none;
    opacity: 0.5;
  }
  
  &:hover {
    background: var(--glass-bg-hover);
    border-color: var(--glass-border-hover);
    box-shadow: 
      0 12px 40px rgba(0, 0, 0, 0.7),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15),
      var(--glow-primary);
    transform: translateY(-2px);
  }
}

@mixin terminal-window {
  @include glass-card;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    display: block;
    height: var(--terminal-header-height);
    background: linear-gradient(
      to bottom,
      rgba(42, 42, 42, 0.95),
      rgba(26, 26, 26, 0.9)
    );
    border-bottom: 1px solid var(--glass-border);
    border-radius: var(--radius-md) var(--radius-md) 0 0;
    backdrop-filter: blur(var(--glass-blur-subtle));
    position: relative;
    z-index: 1;
  }
  
  &::after {
    content: '●  ●  ●';
    position: absolute;
    top: calc((var(--terminal-header-height) - var(--terminal-dot-size)) / 2);
    left: var(--spacing-md);
    color: rgba(255, 255, 255, 0.3);
    font-size: var(--terminal-dot-size);
    letter-spacing: var(--terminal-dot-spacing);
    z-index: 2;
  }
}

@mixin glow-text {
  color: var(--color-primary);
  text-shadow: var(--text-shadow-glow);
}

@mixin scanlines {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      rgba(0, 0, 0, 0.1) 2px,
      rgba(0, 0, 0, 0.1) 4px
    );
    pointer-events: none;
    opacity: 0.3;
    z-index: var(--z-base);
  }
}

@mixin frosted-glass {
  background: var(--glass-bg-light);
  backdrop-filter: blur(var(--glass-blur-strong)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--glass-blur-strong)) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 
    var(--shadow-md),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.15);
}

@mixin neon-border {
  border: 1px solid var(--glass-border);
  box-shadow: 
    0 0 5px rgba(var(--color-primary-rgb), 0.3),
    inset 0 0 5px rgba(var(--color-primary-rgb), 0.2);
  
  &:hover {
    border-color: var(--glass-border-hover);
    box-shadow: 
      var(--glow-primary),
      inset 0 0 10px rgba(var(--color-primary-rgb), 0.3);
  }
}

@mixin responsive($breakpoint) {
  @if $breakpoint == mobile {
    @media (max-width: 639px) { @content; }
  } @else if $breakpoint == tablet {
    @media (min-width: 640px) and (max-width: 1023px) { @content; }
  } @else if $breakpoint == desktop {
    @media (min-width: 1024px) { @content; }
  } @else if $breakpoint == wide {
    @media (min-width: 1280px) { @content; }
  }
}